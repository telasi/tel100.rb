{
    "type": "Ext.app.ViewController",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|userAlias": "documentmotionsoutpanel",
        "designer|userClassName": "document.motions.OutPanelViewController",
        "requires": [
            "Tel100.view.party.Selector"
        ]
    },
    "configAlternates": {
        "includes": "array"
    },
    "designerId": "8fd1c70a-465c-4cac-b890-164824e7df59",
    "cn": [
        {
            "type": "basicfunction",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|params": [
                    "receiver"
                ],
                "fn": "addReceiver",
                "implHandler": [
                    "var extType = receiver.get('ext_type');",
                    "var document = this.getViewModel().get('document');",
                    "helpers.api.document.motion.createDraft({",
                    "  params: {",
                    "    document_id: document.id,",
                    "    receiver_id: receiver.id,",
                    "    receiver_type: receiver.get('ext_type')",
                    "  },",
                    "  success: function(motionData) {",
                    "    var motion = Ext.create('Tel100.model.document.Motion', motionData);",
                    "    var view = this.getView();",
                    "    var grid = view.down('documentmotionsoutgrid');",
                    "    var store = grid.getStore();",
                    "    store.add(motion);",
                    "  }.bind(this)",
                    "});"
                ]
            },
            "name": "addReceiver",
            "designerId": "e820e9c0-20e8-4d72-b70c-7fe1d927dfd5"
        }
    ]
}